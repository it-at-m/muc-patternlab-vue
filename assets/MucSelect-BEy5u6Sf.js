import{I as D,O as $,d as I,b as v,e as c,t as b,p,x as P,q as m,y as R,w as U,f as u,A as V,E as z,o as h,F as G,l as H,k as M,m as J}from"./vue.esm-bundler-Dxwp2idO.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";function Q(o,i){if(!o)return;const t=n=>{n.target!==o.value&&n.composedPath().includes(o.value)||typeof i=="function"&&i()};return D(()=>{window.addEventListener("click",t)}),$(()=>{window.removeEventListener("click",t)}),{listener:t}}const T=I({__name:"MucSelectItem",props:{item:{},itemLabel:{}},setup(o){const i=o,t=v(()=>typeof i.item=="string"?i.item:i.item[i.itemLabel].toString());return(n,f)=>(p(),c("span",null,b(t.value),1))}});T.__docgenInfo={exportName:"default",displayName:"MucSelectItem",description:"",tags:{},props:[{name:"item",required:!0,type:{name:"MucSelectItemTypes"}},{name:"itemLabel",required:!0,type:{name:"string"}}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Form/MucSelectItem.vue"]};const W={class:"m-label"},X=["onMouseenter","onClick"],Y={key:0,class:"option"},Z={key:0,class:"m-hint"},_=I({__name:"MucSelect",props:P({items:{},label:{},hint:{},multiple:{type:Boolean,default:!1},noItemFoundMessage:{default:"No items found."},itemTitle:{default:"title"}},{modelValue:{default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(o){const i=m(),t=R(o,"modelValue"),n=m(!1),f=m(),y=m(!1),d=m(),l=o,C=()=>{n.value=!n.value,d.value=f.value},k=()=>{n.value=!0,d.value=f.value,r.value=""};Q(i,()=>{n.value=!1,r.value=g.value});const A=e=>{f.value=e,l.multiple?w(e):S(e),l.multiple||(n.value=!1)},S=e=>{Array.isArray(t.value)&&(t.value=t.value.join(" ")),typeof t.value!="string"&&typeof e!="string"?t.value=t.value[l.itemTitle]===e[l.itemTitle]?"":e:t.value=t.value===e?"":e},w=e=>{Array.isArray(t.value)||(t.value=[t.value]),Array.isArray(t.value)&&(typeof e=="string"?t.value=t.value.map(s=>s).includes(e)?t.value.filter(s=>s!==e):[...t.value,e]:t.value=t.value.map(s=>s[l.itemTitle]).includes(e[l.itemTitle])?t.value.filter(s=>s[l.itemTitle]!==e[l.itemTitle]):[...t.value,e])},g=v(()=>typeof t.value=="string"?t.value:Array.isArray(t.value)?t.value.every(e=>typeof e=="string")?t.value.join(l.multiple?", ":" "):t.value.map(e=>e[l.itemTitle].toString()).join(l.multiple?", ":" "):t.value[l.itemTitle].toString());U(g,e=>{r.value=e});const r=m(g.value),L=v(()=>r.value==g.value?l.items:x(r.value)),x=e=>{y.value=!1;const s=l.items.every(a=>typeof a=="string")?l.items.filter(a=>a.toLowerCase().includes(e.toLowerCase())):l.items.filter(a=>a[l.itemTitle].toString().toLowerCase().includes(e.toLowerCase()));return s.length===0&&(y.value=!0),s},F=e=>e===d.value?"active":"",q=e=>{if(typeof e=="string")return t.value.includes(e)?"selected":"";if(Array.isArray(t.value))return t.value.map(s=>s[l.itemTitle]).includes(e[l.itemTitle])?"selected":"";if(typeof t.value!="string")return t.value[l.itemTitle]===e[l.itemTitle]?"selected":""},N=()=>d.value="",O=v(()=>n.value?"display-listbox":""),B=v(()=>l.multiple&&!y.value?"m-input-wrapper--multiselect multiselect":"m-input-wrapper--select");return(e,s)=>(p(),c("div",{class:"m-form-group",ref_key:"selectComponentRef",ref:i},[u("label",W,b(e.label),1),u("div",{class:h(["m-input-wrapper",B.value])},[V(u("input",{type:"text",class:"m-input m-combobox m-combobox--single","onUpdate:modelValue":s[0]||(s[0]=a=>r.value=a),onClick:k},null,512),[[z,r.value]]),u("span",{class:"m-input__trigger",onClick:C},s[1]||(s[1]=[u("svg",{"aria-hidden":"true",class:"icon"},[u("use",{"xlink:href":"#icon-chevron-down"})],-1),u("span",{class:"visually-hidden"},"Auswahlliste Ã¶ffnen",-1)])),u("ul",{class:h(["listbox",O.value]),onMouseleave:N},[(p(!0),c(G,null,H(L.value,(a,j)=>(p(),c("li",{key:j,class:h(["option",[F(a),q(a)]]),onMouseenter:E=>d.value=a,onClick:E=>A(a)},[J(T,{item:a,"item-label":e.itemTitle},null,8,["item","item-label"])],42,X))),128)),y.value?(p(),c("li",Y,b(e.noItemFoundMessage),1)):M("",!0)],34)],2),e.hint?(p(),c("p",Z,b(e.hint),1)):M("",!0)],512))}}),le=K(_,[["__scopeId","data-v-e39e3aae"]]);_.__docgenInfo={exportName:"default",displayName:"MucSelect",description:"",tags:{},props:[{name:"items",description:"List of items to be available",required:!0,type:{name:"Array",elements:[{name:"MucSelectItemTypes"}]}},{name:"label",description:"Optional label shown above the input",required:!1,type:{name:"string"}},{name:"hint",description:"Optional hint shown below the input",required:!1,type:{name:"string"}},{name:"multiple",description:"Allow multiple selectable items",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"noItemFoundMessage",description:"Optional message shown no item is found after filtering",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'"No items found."'}},{name:"itemTitle",description:"Property that contains the value to be displayed in the list when a list of objects is used",required:!1,type:{name:"string"},defaultValue:{func:!1,value:'"title"'}}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Form/MucSelect.vue"]};export{le as M};
