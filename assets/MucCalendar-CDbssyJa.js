import{d as M,G as L,c as v,a as m,h as S,o,t as Y,n as _,N as V,b as D,F as k,j as C,e as w,u as A,k as b,m as ie,r as q,l as oe,H as ue,I as R,J as z,w as T,T as O}from"./iframe-D-zVlmdu.js";import{M as j}from"./MucButton-BaYkZMke.js";import{_ as p}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E="de-DE",U=12,I=Symbol("mucCalendar"),F=(a,u)=>a.getDate()===u.getDate()&&a.getMonth()===u.getMonth()&&a.getFullYear()===u.getFullYear(),B=(a,u)=>a>u,N=a=>a!==null&&a.from!==void 0&&a.to!==void 0,ce=["tabindex","aria-label","aria-disabled"],W=M({__name:"MucDayTile",props:{date:{},showAdjacentMonths:{type:Boolean,default:!1}},emits:["click"],setup(a,{emit:u}){const t=L(I),c=u,l=v(()=>{if(t?.selectedDate.value===null)return!1;if(t?.selectedDate.value instanceof Date)return F(t?.selectedDate.value,a.date);if(Array.isArray(t?.selectedDate.value))return t?.selectedDate.value.some(i=>F(i,a.date));if(t?.selectedDate?.value&&N(t.selectedDate.value)){const{from:i,to:h}=t.selectedDate.value;return i&&F(i,a.date)||h&&F(h,a.date)}}),n=v(()=>t?.variant.value==="range"&&N(t.selectedDate.value)?t?.selectedDate.value.from!==null&&t?.selectedDate.value.to!==null&&B(a.date,t.selectedDate.value.from)&&B(t.selectedDate.value.to,a.date):!1),s=v(()=>{const i=t?.allowedDates(a.date)?t.allowedDates(a.date):!1,h=t?.minDate.value!==void 0&&(a.date.getFullYear()<t.minDate.value.getFullYear()||a.date.getFullYear()===t.minDate.value.getFullYear()&&a.date.getMonth()<t.minDate.value.getMonth()||a.date.getFullYear()===t.minDate.value.getFullYear()&&a.date.getMonth()===t.minDate.value.getMonth()&&a.date.getDate()<t.minDate.value.getDate()),f=t?.maxDate.value!==void 0&&(a.date.getFullYear()>t.maxDate.value.getFullYear()||a.date.getFullYear()===t.maxDate.value.getFullYear()&&a.date.getMonth()>t.maxDate.value.getMonth()||a.date.getFullYear()===t.maxDate.value.getFullYear()&&a.date.getMonth()===t.maxDate.value.getMonth()&&a.date.getDate()>t.maxDate.value.getDate());return!i||h||f}),e=v(()=>a.date.getMonth()===t?.viewDate.value.getMonth()),d=()=>{s.value||c("click",a.date)};return(i,h)=>e.value||i.showAdjacentMonths?(o(),m("div",{key:0,onClick:d,onKeyup:V(d,["enter"]),class:_({"disabled-tile":s.value,"off-month":!e.value,selected:l.value,"selected-range":n.value}),tabindex:s.value?"-1":"0",role:"button","aria-label":`${i.date.getDate()} auswählen`,"aria-disabled":s.value},Y(i.date.getDate()),43,ce)):S("",!0)}}),de=p(W,[["__scopeId","data-v-db120593"]]);W.__docgenInfo={exportName:"default",displayName:"MucDayTile",description:"",tags:{},props:[{name:"date",description:"Date of for this tile to be displayed",required:!0,type:{name:"Date"}},{name:"showAdjacentMonths",description:"Determines if this date should be shown or not, depending on the month - defaults to false",required:!1,type:{name:"boolean"}}],events:[{name:"click",type:{names:["Date"]},description:"Event emited after selecting a day"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucDayTile.vue"]};const ve={class:"muc-calendar-view-full-size"},me={class:"muc-calendar-container table-header"},he={class:"muc-calendar-container"},De=7,H=M({__name:"MucCalendarDay",props:{viewDate:{},variant:{},disabled:{type:Boolean},showAdjacentMonths:{type:Boolean}},emits:["clicked"],setup(a,{emit:u}){const t=6*De,c=["Mo","Di","Mi","Do","Fr","Sa","So"],l=a,n=u,s=v(()=>new Date(l.viewDate.getFullYear(),l.viewDate.getMonth(),1)),e=v(()=>l.showAdjacentMonths?0:(s.value.getDay()||7)-1),d=v(()=>h(s.value,-s.value.getDay()||-7)),i=f=>{n("clicked",f)},h=(f,x)=>new Date(new Date(f).setDate(f.getDate()+x));return(f,x)=>(o(),m("div",ve,[D("div",me,[(o(),m(k,null,C(c,(g,$)=>D("div",{class:"header-item",key:$},[D("strong",null,Y(g),1)])),64))]),D("div",he,[(o(!0),m(k,null,C(e.value,g=>(o(),m("div",{key:g}))),128)),(o(),m(k,null,C(t,g=>w(de,{class:"muc-calendar-item",date:h(d.value,g),"show-adjacent-months":f.showAdjacentMonths,onClick:i,key:g},null,8,["date","show-adjacent-months"])),64))])]))}}),fe=p(H,[["__scopeId","data-v-e7805970"]]);H.__docgenInfo={exportName:"default",displayName:"MucCalendarDay",description:"",tags:{},props:[{name:"viewDate",description:"Current year and month in the view",required:!0,type:{name:"Date"}},{name:"variant",description:"Type of possible day selection - single, multiple or range",required:!0,type:{name:"CalendarTypes"}},{name:"disabled",description:"Determines if selection of day should be disabled",required:!0,type:{name:"boolean"}},{name:"showAdjacentMonths",description:"Determines if days of adjacent months (before and after) should be shown or not",required:!0,type:{name:"boolean"}}],events:[{name:"clicked",type:{names:["Date"]},description:"Event emitted after selecting a day"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendarDay.vue"]};const ge=["tabindex","aria-label","aria-disabled"],ye="short",G=M({__name:"MucMonthTile",props:{date:{}},emits:["click"],setup(a,{emit:u}){const t=L(I),c=u,l=e=>e.toLocaleDateString(E,{month:ye}),n=v(()=>{const e=a.date.getFullYear(),d=a.date.getMonth(),i=t?.minDate.value&&(e<t.minDate.value.getFullYear()||e===t.minDate.value.getFullYear()&&d<t.minDate.value.getMonth()),h=t?.maxDate.value&&(e>t.maxDate.value.getFullYear()||e===t.maxDate.value.getFullYear()&&d>t.maxDate.value.getMonth());return i||h}),s=()=>{n.value||c("click",a.date)};return(e,d)=>(o(),m("div",{onClick:s,onKeyup:V(s,["enter"]),class:_({"disabled-tile":n.value,"muc-calendar-current-item":new Date().getMonth()===e.date.getMonth()&&new Date().getFullYear()===e.date.getFullYear()}),tabindex:n.value?"-1":"0",role:"button","aria-label":`${e.date.toLocaleDateString(A(E),{month:"long"})} auswählen`,"aria-disabled":n.value},[D("p",null,Y(l(e.date)),1)],42,ge))}}),Me=p(G,[["__scopeId","data-v-528928e7"]]);G.__docgenInfo={exportName:"default",displayName:"MucMonthTile",description:"",tags:{},props:[{name:"date",description:"Date of for this tile to be displayed",required:!0,type:{name:"Date"}}],events:[{name:"click",type:{names:["Date"]},description:"Event emited after selecting a month"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucMonthTile.vue"]};const pe={class:"muc-calendar-container muc-calendar-view-full-size"},Q=M({__name:"MucCalendarMonth",props:{viewDate:{}},emits:["clicked"],setup(a,{emit:u}){const t=a,c=u,l=v(()=>Array.from({length:U},(s,e)=>new Date(t.viewDate.getFullYear(),e))),n=s=>c("clicked",s);return(s,e)=>(o(),m("div",pe,[(o(!0),m(k,null,C(l.value,(d,i)=>(o(),b(Me,{key:i,class:"muc-calendar-item",date:d,onClick:n},null,8,["date"]))),128))]))}}),we=p(Q,[["__scopeId","data-v-4dc141ae"]]);Q.__docgenInfo={exportName:"default",displayName:"MucCalendarMonth",description:"",tags:{},props:[{name:"viewDate",description:"current viewDate for the selection",required:!0,type:{name:"Date"}}],events:[{name:"clicked",type:{names:["Date"]},description:"Event emitted after selecting a month"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendarMonth.vue"]};const be=["tabindex","aria-label","aria-disabled"],J="numeric",X=M({__name:"MucYearTile",props:{date:{}},emits:["click"],setup(a,{emit:u}){const t=L(I),c=u,l=e=>e.toLocaleDateString(E,{year:J}),n=v(()=>{const e=a.date.getFullYear(),d=t?.minDate.value&&e<t.minDate.value.getFullYear(),i=t?.maxDate.value&&e>t.maxDate.value.getFullYear();return d||i}),s=()=>{n.value||c("click",a.date)};return(e,d)=>(o(),m("div",{onClick:s,onKeyup:V(s,["enter"]),class:_({"disabled-tile":n.value,"muc-calendar-current-item":new Date().getFullYear()===e.date.getFullYear()}),tabindex:n.value?"-1":"0",role:"button","aria-label":`${e.date.toLocaleDateString(A(E),{year:J})} auswählen`,"aria-disabled":n.value},[D("p",null,Y(l(e.date)),1)],42,be))}}),Ye=p(X,[["__scopeId","data-v-0e82f1d5"]]);X.__docgenInfo={exportName:"default",displayName:"MucYearTile",description:"",tags:{},props:[{name:"date",description:"Date of for this tile to be displayed",required:!0,type:{name:"Date"}}],events:[{name:"click",type:{names:["Date"]},description:"Event emited after selecting a year"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucYearTile.vue"]};const Fe={class:"muc-calendar-container muc-calendar-view-full-size"},Z=M({__name:"MucCalendarYear",props:{viewDate:{}},emits:["clicked"],setup(a,{emit:u}){const t=a,c=u,l=v(()=>Array.from({length:U},(s,e)=>new Date(t.viewDate.getFullYear()-t.viewDate.getFullYear()%10+e,t.viewDate.getMonth()))),n=s=>c("clicked",s);return(s,e)=>(o(),m("div",Fe,[(o(!0),m(k,null,C(l.value,(d,i)=>(o(),b(Ye,{key:i,class:"muc-calendar-item",date:d,onClick:h=>n(d)},null,8,["date","onClick"]))),128))]))}}),ke=p(Z,[["__scopeId","data-v-2d92e62c"]]);Z.__docgenInfo={exportName:"default",displayName:"MucCalendarYear",description:"",tags:{},props:[{name:"viewDate",description:"current viewDate for the selection",required:!0,type:{name:"Date"}}],events:[{name:"clicked",type:{names:["Date"]},description:"Event emitted after selecting a year"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendarYear.vue"]};const Ce={class:"container-wrapper"},Ae={class:"calendar-caption"},Ne={key:1,class:"header"},xe={class:"container-view-size"},P=10,ee=M({__name:"MucCalendar",props:ie({viewMonth:{},min:{},max:{},showAdjacentMonths:{type:Boolean,default:!1},variant:{default:"single"},disabled:{type:Boolean,default:!1},disableViewChange:{type:Boolean,default:!1},noAnimation:{type:Boolean,default:!1},allowedDates:{type:Function,default:()=>!0}},{modelValue:{default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const u=v(()=>{if(a.viewMonth)return a.viewMonth instanceof Date?a.viewMonth:new Date(a.viewMonth)}),t=v(()=>{if(a.min)return a.min instanceof Date?a.min:new Date(a.min)}),c=v(()=>{if(a.max)return a.max instanceof Date?a.max:new Date(a.max)}),l=q(u.value||new Date(new Date().getFullYear(),new Date().getMonth(),1)),n=q("day"),s=q(),e=oe(a,"modelValue"),d=v(()=>{switch(n.value){case"day":return l.value.toLocaleDateString("de-De",{month:"long",year:"numeric"});case"month":return l.value.toLocaleDateString("de-De",{year:"numeric"});case"year":{const r=l.value.getFullYear()-l.value.getFullYear()%10;return`${r} - ${r+11}`}default:return""}}),i=()=>{switch(n.value){case"day":l.value=new Date(l.value.setMonth(l.value.getMonth()-1));break;case"month":l.value=new Date(l.value.setFullYear(l.value.getFullYear()-1));break;case"year":l.value=new Date(l.value.setFullYear(l.value.getFullYear()-12))}},h=()=>{switch(n.value){case"day":l.value=new Date(l.value.setMonth(l.value.getMonth()+1));break;case"month":l.value=new Date(l.value.setFullYear(l.value.getFullYear()+1));break;case"year":l.value=new Date(l.value.setFullYear(l.value.getFullYear()+12))}},f=v(()=>{switch(n.value){case"day":return"Vorheriger Monat";case"month":return"Vorheriges Jahr";case"year":return"Vorherige Jahre";default:return""}}),x=v(()=>{switch(n.value){case"day":return"Nächster Monat";case"month":return"Nächstes Jahr";case"year":return"Weitere Jahre";default:return""}}),g=v(()=>{if(t.value)switch(n.value){case"day":return l.value.getFullYear()<t.value.getFullYear()||l.value.getFullYear()===t.value.getFullYear()&&l.value.getMonth()<=t.value.getMonth();case"month":return l.value.getFullYear()<=t.value.getFullYear();case"year":return l.value.getFullYear()-l.value.getFullYear()%P<=t.value.getFullYear();default:return!1}return!1}),$=v(()=>{if(c.value)switch(n.value){case"day":return l.value.getFullYear()>c.value.getFullYear()||l.value.getFullYear()===c.value.getFullYear()&&l.value.getMonth()>=c.value.getMonth();case"month":return l.value.getFullYear()>=c.value.getFullYear();case"year":return l.value.getFullYear()-l.value.getFullYear()%P+10>=c.value.getFullYear();default:return!1}return!1}),ae=r=>{console.debug(N(e.value)),(Array.isArray(e.value)||N(e.value))&&(e.value=Object.values(e.value)[0]),e.value=e.value===null||!F(e.value,r)?r:null},te=r=>{e.value===null?e.value=[]:e.value instanceof Date?e.value=[e.value]:N(e.value)&&(e.value=[e.value.from,e.value.to].filter(y=>y!==null)),e.value=e.value.some(y=>y.getTime()===r.getTime())?e.value.filter(y=>y.getTime()!==r.getTime()):[...e.value,r]},le=r=>{e.value===null||Array.isArray(e.value)?e.value={from:null,to:null}:e.value instanceof Date&&(e.value={from:e.value,to:null}),e.value=!e.value.from||e.value.to?{from:r,to:null}:B(e.value.from,r)?{from:r,to:e.value.from}:{from:e.value.from,to:r}},ne=r=>{if(!a.disabled)switch(a.variant){case"single":ae(r);break;case"multiple":te(r);break;case"range":le(r);break}},K=r=>{s.value="view-detail",l.value=new Date(r.getFullYear(),r.getMonth()),se()},re=()=>{s.value="view-broad",n.value==="day"?n.value="month":n.value==="month"&&(n.value="year")},se=()=>{n.value==="year"?n.value="month":n.value==="month"&&(n.value="day")};return ue(I,{viewDate:l,minDate:t,maxDate:c,selectedDate:e,variant:R(z(()=>a.variant)),showAdjacentMonths:R(z(()=>a.showAdjacentMonths)),allowedDates:a.allowedDates}),(r,y)=>(o(),m("div",null,[D("div",Ce,[D("div",Ae,[w(A(j),{onClick:i,"aria-label":f.value,disabled:g.value,variant:"ghost",icon:"chevron-left"},null,8,["aria-label","disabled"]),r.disableViewChange?(o(),m("div",Ne,[D("h3",null,Y(d.value),1)])):(o(),b(A(j),{key:0,class:"header",variant:"ghost",onClick:y[0]||(y[0]=Te=>re())},{default:T(()=>[D("h3",null,Y(d.value),1)]),_:1})),w(A(j),{onClick:h,"aria-label":x.value,disabled:$.value,variant:"ghost",icon:"chevron-right","icon-shown-left":""},null,8,["aria-label","disabled"])]),D("div",xe,[w(O,{class:"transition",css:!r.noAnimation,name:s.value},{default:T(()=>[n.value==="year"?(o(),b(ke,{key:0,"view-date":l.value,onClicked:K},null,8,["view-date"])):S("",!0)]),_:1},8,["css","name"]),w(O,{class:"transition",css:!r.noAnimation,name:s.value},{default:T(()=>[n.value==="month"?(o(),b(we,{key:0,"view-date":l.value,onClicked:K},null,8,["view-date"])):S("",!0)]),_:1},8,["css","name"]),w(O,{class:"transition",css:!r.noAnimation,name:s.value},{default:T(()=>[n.value==="day"?(o(),b(fe,{key:0,variant:r.variant,disabled:r.disabled,"show-adjacent-months":r.showAdjacentMonths,"selected-date":e.value,"view-date":l.value,onClicked:ne},null,8,["variant","disabled","show-adjacent-months","selected-date","view-date"])):S("",!0)]),_:1},8,["css","name"])])])]))}}),$e=p(ee,[["__scopeId","data-v-761c6c2c"]]);ee.__docgenInfo={exportName:"default",displayName:"MucCalendar",description:"",tags:{},props:[{name:"viewMonth",description:"Initial date to be displayed on the selection screen",required:!1,type:{name:"Date"}},{name:"min",description:"Earliest selectable date",required:!1,type:{name:"Date"}},{name:"max",description:"Latest selectable date",required:!1,type:{name:"Date"}},{name:"showAdjacentMonths",description:"Select if adjacent (before and after) month should be shown in the selection of the day. Defaults to false",required:!1,type:{name:"boolean"}},{name:"variant",description:"Select the selection type for the user - single, multiple or range. Defaults to single",required:!1,type:{name:"CalendarTypes"}},{name:"disabled",description:"Disable the selection of dates by the user. Defaults to false",required:!1,type:{name:"boolean"}},{name:"disableViewChange",description:"Disables the change of the calendar view. Only show month view. Defaults to false",required:!1,type:{name:"boolean"}},{name:"noAnimation",description:"Disables the animation",required:!1,type:{name:"boolean"}},{name:"allowedDates",description:"Function to determine if a date should be disabled or not",required:!1,type:{name:"AllowedDateFunction"}}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendar.vue"]};export{$e as M};
