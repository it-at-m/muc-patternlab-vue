import{d as p,L as B,b as c,e as h,l as C,o as v,t as N,n as V,S as _,f as g,F as Y,p as F,g as M,u as k,s as A,x as oe,q as O,y as ie,M as ue,N as R,O as z,v as S,T as $}from"./vue.esm-bundler-CDd4cxOR.js";import{M as j}from"./MucButton-CllWkO84.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E="de-DE",U=12,q=Symbol("mucCalendar"),b=(t,i)=>t.getDate()===i.getDate()&&t.getMonth()===i.getMonth()&&t.getFullYear()===i.getFullYear(),L=(t,i)=>t>i,x=t=>t!==null&&t.from!==void 0&&t.to!==void 0,ce=["tabindex","aria-label"],W=p({__name:"MucDayTile",props:{date:{},showAdjacentMonths:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:i}){const e=B(q),u=i,n=c(()=>{if((e==null?void 0:e.selectedDate.value)===null)return!1;if((e==null?void 0:e.selectedDate.value)instanceof Date)return b(e==null?void 0:e.selectedDate.value,t.date);if(Array.isArray(e==null?void 0:e.selectedDate.value))return e==null?void 0:e.selectedDate.value.some(o=>b(o,t.date));if(x(e.selectedDate.value)){const{from:o,to:m}=e.selectedDate.value;return o&&b(o,t.date)||m&&b(m,t.date)}}),l=c(()=>(e==null?void 0:e.variant.value)==="range"&&x(e.selectedDate.value)?(e==null?void 0:e.selectedDate.value.from)!==null&&(e==null?void 0:e.selectedDate.value.to)!==null&&L(t.date,e.selectedDate.value.from)&&L(e.selectedDate.value.to,t.date):!1),s=c(()=>{const o=e!=null&&e.allowedDates(t.date)?e.allowedDates(t.date):!1,m=(e==null?void 0:e.minDate.value)!==void 0&&(t.date.getFullYear()<e.minDate.value.getFullYear()||t.date.getFullYear()===e.minDate.value.getFullYear()&&t.date.getMonth()<e.minDate.value.getMonth()||t.date.getFullYear()===e.minDate.value.getFullYear()&&t.date.getMonth()===e.minDate.value.getMonth()&&t.date.getDate()<e.minDate.value.getDate()),f=(e==null?void 0:e.maxDate.value)!==void 0&&(t.date.getFullYear()>e.maxDate.value.getFullYear()||t.date.getFullYear()===e.maxDate.value.getFullYear()&&t.date.getMonth()>e.maxDate.value.getMonth()||t.date.getFullYear()===e.maxDate.value.getFullYear()&&t.date.getMonth()===e.maxDate.value.getMonth()&&t.date.getDate()>e.maxDate.value.getDate());return!o||m||f}),a=c(()=>t.date.getMonth()===(e==null?void 0:e.viewDate.value.getMonth())),d=()=>{s.value||u("click",t.date)};return(o,m)=>a.value||o.showAdjacentMonths?(v(),h("div",{key:0,onClick:d,onKeyup:_(d,["enter"]),class:V({"disabled-tile":s.value,"off-month":!a.value,selected:n.value,"selected-range":l.value}),tabindex:s.value?"-1":"0",role:"button","aria-label":`${o.date.getDate()} auswählen`},N(o.date.getDate()),43,ce)):C("",!0)}}),de=w(W,[["__scopeId","data-v-9ac1842d"]]);W.__docgenInfo={exportName:"default",displayName:"MucDayTile",description:"",tags:{},props:[{name:"date",description:"Date of for this tile to be displayed",required:!0,type:{name:"Date"}},{name:"showAdjacentMonths",description:"Determines if this date should be shown or not, depending on the month - defaults to false",required:!1,type:{name:"boolean"}}],events:[{name:"click",type:{names:["Date"]},description:"Event emited after selecting a day"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucDayTile.vue"]};const ve={class:"muc-calendar-view-full-size"},me={class:"muc-calendar-container table-header"},he={class:"muc-calendar-container"},fe=7,H=p({__name:"MucCalendarDay",props:{viewDate:{},variant:{},disabled:{type:Boolean},showAdjacentMonths:{type:Boolean}},emits:["clicked"],setup(t,{emit:i}){const e=6*fe,u=["Mo","Di","Mi","Do","Fr","Sa","So"],n=t,l=i,s=c(()=>new Date(n.viewDate.getFullYear(),n.viewDate.getMonth(),1)),a=c(()=>n.showAdjacentMonths?0:(s.value.getDay()||7)-1),d=c(()=>m(s.value,-s.value.getDay()||-7)),o=f=>{l("clicked",f)},m=(f,T)=>new Date(new Date(f).setDate(f.getDate()+T));return(f,T)=>(v(),h("div",ve,[g("div",me,[(v(),h(Y,null,F(u,(D,I)=>g("div",{class:"header-item",key:I},[g("strong",null,N(D),1)])),64))]),g("div",he,[(v(!0),h(Y,null,F(a.value,D=>(v(),h("div",{key:D}))),128)),(v(),h(Y,null,F(e,D=>M(de,{class:"muc-calendar-item",date:m(d.value,D),"show-adjacent-months":f.showAdjacentMonths,onClick:o,key:D},null,8,["date","show-adjacent-months"])),64))])]))}}),ge=w(H,[["__scopeId","data-v-e7805970"]]);H.__docgenInfo={exportName:"default",displayName:"MucCalendarDay",description:"",tags:{},props:[{name:"viewDate",description:"Current year and month in the view",required:!0,type:{name:"Date"}},{name:"variant",description:"Type of possible day selection - single, multiple or range",required:!0,type:{name:"CalendarTypes"}},{name:"disabled",description:"Determines if selection of day should be disabled",required:!0,type:{name:"boolean"}},{name:"showAdjacentMonths",description:"Determines if days of adjacent months (before and after) should be shown or not",required:!0,type:{name:"boolean"}}],events:[{name:"clicked",type:{names:["Date"]},description:"Event emitted after selecting a day"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendarDay.vue"]};const De=["tabindex","aria-label"],ye="short",G=p({__name:"MucMonthTile",props:{date:{}},emits:["click"],setup(t,{emit:i}){const e=B(q),u=i,n=a=>a.toLocaleDateString(E,{month:ye}),l=c(()=>{const a=t.date.getFullYear(),d=t.date.getMonth(),o=(e==null?void 0:e.minDate.value)&&(a<e.minDate.value.getFullYear()||a===e.minDate.value.getFullYear()&&d<e.minDate.value.getMonth()),m=(e==null?void 0:e.maxDate.value)&&(a>e.maxDate.value.getFullYear()||a===e.maxDate.value.getFullYear()&&d>e.maxDate.value.getMonth());return o||m}),s=()=>{l.value||u("click",t.date)};return(a,d)=>(v(),h("div",{onClick:s,onKeyup:_(s,["enter"]),class:V({"disabled-tile":l.value,"muc-calendar-current-item":new Date().getMonth()===a.date.getMonth()&&new Date().getFullYear()===a.date.getFullYear()}),tabindex:l.value?"-1":"0",role:"button","aria-label":`${a.date.toLocaleDateString(k(E),{month:"long"})} auswählen`},[g("p",null,N(n(a.date)),1)],42,De))}}),Me=w(G,[["__scopeId","data-v-30d96702"]]);G.__docgenInfo={exportName:"default",displayName:"MucMonthTile",description:"",tags:{},props:[{name:"date",description:"Date of for this tile to be displayed",required:!0,type:{name:"Date"}}],events:[{name:"click",type:{names:["Date"]},description:"Event emited after selecting a month"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucMonthTile.vue"]};const pe={class:"muc-calendar-container muc-calendar-view-full-size"},Q=p({__name:"MucCalendarMonth",props:{viewDate:{}},emits:["clicked"],setup(t,{emit:i}){const e=t,u=i,n=c(()=>Array.from({length:U},(s,a)=>new Date(e.viewDate.getFullYear(),a))),l=s=>u("clicked",s);return(s,a)=>(v(),h("div",pe,[(v(!0),h(Y,null,F(n.value,(d,o)=>(v(),A(Me,{key:o,class:"muc-calendar-item",date:d,onClick:l},null,8,["date"]))),128))]))}}),we=w(Q,[["__scopeId","data-v-4dc141ae"]]);Q.__docgenInfo={exportName:"default",displayName:"MucCalendarMonth",description:"",tags:{},props:[{name:"viewDate",description:"current viewDate for the selection",required:!0,type:{name:"Date"}}],events:[{name:"clicked",type:{names:["Date"]},description:"Event emitted after selecting a month"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendarMonth.vue"]};const be=["tabindex","aria-label"],J="numeric",X=p({__name:"MucYearTile",props:{date:{}},emits:["click"],setup(t,{emit:i}){const e=B(q),u=i,n=a=>a.toLocaleDateString(E,{year:J}),l=c(()=>{const a=t.date.getFullYear(),d=(e==null?void 0:e.minDate.value)&&a<e.minDate.value.getFullYear(),o=(e==null?void 0:e.maxDate.value)&&a>e.maxDate.value.getFullYear();return d||o}),s=()=>{l.value||u("click",t.date)};return(a,d)=>(v(),h("div",{onClick:s,onKeyup:_(s,["enter"]),class:V({"disabled-tile":l.value,"muc-calendar-current-item":new Date().getFullYear()===a.date.getFullYear()}),tabindex:l.value?"-1":"0",role:"button","aria-label":`${a.date.toLocaleDateString(k(E),{year:J})} auswählen`},[g("p",null,N(n(a.date)),1)],42,be))}}),Ye=w(X,[["__scopeId","data-v-ed281bd7"]]);X.__docgenInfo={exportName:"default",displayName:"MucYearTile",description:"",tags:{},props:[{name:"date",description:"Date of for this tile to be displayed",required:!0,type:{name:"Date"}}],events:[{name:"click",type:{names:["Date"]},description:"Event emited after selecting a year"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucYearTile.vue"]};const Fe={class:"muc-calendar-container muc-calendar-view-full-size"},Z=p({__name:"MucCalendarYear",props:{viewDate:{}},emits:["clicked"],setup(t,{emit:i}){const e=t,u=i,n=c(()=>Array.from({length:U},(s,a)=>new Date(e.viewDate.getFullYear()-e.viewDate.getFullYear()%10+a,e.viewDate.getMonth()))),l=s=>u("clicked",s);return(s,a)=>(v(),h("div",Fe,[(v(!0),h(Y,null,F(n.value,(d,o)=>(v(),A(Ye,{key:o,class:"muc-calendar-item",date:d,onClick:m=>l(d)},null,8,["date","onClick"]))),128))]))}}),ke=w(Z,[["__scopeId","data-v-2d92e62c"]]);Z.__docgenInfo={exportName:"default",displayName:"MucCalendarYear",description:"",tags:{},props:[{name:"viewDate",description:"current viewDate for the selection",required:!0,type:{name:"Date"}}],events:[{name:"clicked",type:{names:["Date"]},description:"Event emitted after selecting a year"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendarYear.vue"]};const Ae={class:"container-wrapper"},xe={class:"calendar-caption"},Ne={class:"container-view-size"},P=10,ee=p({__name:"MucCalendar",props:oe({viewMonth:{},min:{},max:{},showAdjacentMonths:{type:Boolean,default:!1},variant:{default:"single"},disabled:{type:Boolean,default:!1},disableViewChange:{type:Boolean,default:!1},noAnimation:{type:Boolean,default:!1},allowedDates:{type:Function,default:()=>!0}},{modelValue:{default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const i=c(()=>{if(t.viewMonth)return t.viewMonth instanceof Date?t.viewMonth:new Date(t.viewMonth)}),e=c(()=>{if(t.min)return t.min instanceof Date?t.min:new Date(t.min)}),u=c(()=>{if(t.max)return t.max instanceof Date?t.max:new Date(t.max)}),n=O(i.value||new Date(new Date().getFullYear(),new Date().getMonth(),1)),l=O("day"),s=O(),a=ie(t,"modelValue"),d=c(()=>{switch(l.value){case"day":return n.value.toLocaleDateString("de-De",{month:"long",year:"numeric"});case"month":return n.value.toLocaleDateString("de-De",{year:"numeric"});case"year":{const r=n.value.getFullYear()-n.value.getFullYear()%10;return`${r} - ${r+11}`}default:return""}}),o=()=>{switch(l.value){case"day":n.value=new Date(n.value.setMonth(n.value.getMonth()-1));break;case"month":n.value=new Date(n.value.setFullYear(n.value.getFullYear()-1));break;case"year":n.value=new Date(n.value.setFullYear(n.value.getFullYear()-12))}},m=()=>{switch(l.value){case"day":n.value=new Date(n.value.setMonth(n.value.getMonth()+1));break;case"month":n.value=new Date(n.value.setFullYear(n.value.getFullYear()+1));break;case"year":n.value=new Date(n.value.setFullYear(n.value.getFullYear()+12))}},f=c(()=>{switch(l.value){case"day":return"Vorheriger Monat";case"month":return"Vorheriges Jahr";case"year":return"Vorherige Jahre";default:return""}}),T=c(()=>{switch(l.value){case"day":return"Nächster Monat";case"month":return"Nächstes Jahr";case"year":return"Weitere Jahre";default:return""}}),D=c(()=>{if(e.value)switch(l.value){case"day":return n.value.getFullYear()<e.value.getFullYear()||n.value.getFullYear()===e.value.getFullYear()&&n.value.getMonth()<=e.value.getMonth();case"month":return n.value.getFullYear()<=e.value.getFullYear();case"year":return n.value.getFullYear()-n.value.getFullYear()%P<=e.value.getFullYear();default:return!1}return!1}),I=c(()=>{if(u.value)switch(l.value){case"day":return n.value.getFullYear()>u.value.getFullYear()||n.value.getFullYear()===u.value.getFullYear()&&n.value.getMonth()>=u.value.getMonth();case"month":return n.value.getFullYear()>=u.value.getFullYear();case"year":return n.value.getFullYear()-n.value.getFullYear()%P+10>=u.value.getFullYear();default:return!1}return!1}),ae=r=>{console.log(x(a.value)),(Array.isArray(a.value)||x(a.value))&&(a.value=Object.values(a.value)[0]),a.value=a.value===null||!b(a.value,r)?r:null},te=r=>{a.value===null?a.value=[]:a.value instanceof Date?a.value=[a.value]:x(a.value)&&(a.value=[a.value.from,a.value.to].filter(y=>y!==null)),a.value=a.value.some(y=>y.getTime()===r.getTime())?a.value.filter(y=>y.getTime()!==r.getTime()):[...a.value,r]},ne=r=>{a.value===null||Array.isArray(a.value)?a.value={from:null,to:null}:a.value instanceof Date&&(a.value={from:a.value,to:null}),a.value=!a.value.from||a.value.to?{from:r,to:null}:L(a.value.from,r)?{from:r,to:a.value.from}:{from:a.value.from,to:r}},le=r=>{if(!t.disabled)switch(t.variant){case"single":ae(r);break;case"multiple":te(r);break;case"range":ne(r);break}},K=r=>{s.value="view-detail",n.value=new Date(r.getFullYear(),r.getMonth()),se()},re=()=>{s.value="view-broad",l.value==="day"?l.value="month":l.value==="month"&&(l.value="year")},se=()=>{l.value==="year"?l.value="month":l.value==="month"&&(l.value="day")};return ue(q,{viewDate:n,minDate:e,maxDate:u,selectedDate:a,variant:R(z(()=>t.variant)),showAdjacentMonths:R(z(()=>t.showAdjacentMonths)),allowedDates:t.allowedDates}),(r,y)=>(v(),h("div",null,[g("div",Ae,[g("div",xe,[M(k(j),{onClick:o,"aria-label":f.value,disabled:D.value,variant:"ghost",icon:"chevron-left"},null,8,["aria-label","disabled"]),M(k(j),{class:"header",variant:"ghost",onClick:y[0]||(y[0]=Te=>r.disableViewChange?null:re())},{default:S(()=>[g("h3",null,N(d.value),1)]),_:1}),M(k(j),{onClick:m,"aria-label":T.value,disabled:I.value,variant:"ghost",icon:"chevron-right"},null,8,["aria-label","disabled"])]),g("div",Ne,[M($,{class:"transition",css:!r.noAnimation,name:s.value},{default:S(()=>[l.value==="year"?(v(),A(ke,{key:0,"view-date":n.value,onClicked:K},null,8,["view-date"])):C("",!0)]),_:1},8,["css","name"]),M($,{class:"transition",css:!r.noAnimation,name:s.value},{default:S(()=>[l.value==="month"?(v(),A(we,{key:0,"view-date":n.value,onClicked:K},null,8,["view-date"])):C("",!0)]),_:1},8,["css","name"]),M($,{class:"transition",css:!r.noAnimation,name:s.value},{default:S(()=>[l.value==="day"?(v(),A(ge,{key:0,variant:r.variant,disabled:r.disabled,"show-adjacent-months":r.showAdjacentMonths,"selected-date":a.value,"view-date":n.value,onClicked:le},null,8,["variant","disabled","show-adjacent-months","selected-date","view-date"])):C("",!0)]),_:1},8,["css","name"])])])]))}}),qe=w(ee,[["__scopeId","data-v-da0d638b"]]);ee.__docgenInfo={exportName:"default",displayName:"MucCalendar",description:"",tags:{},props:[{name:"viewMonth",description:"Initial date to be displayed on the selection screen",required:!1,type:{name:"Date"}},{name:"min",description:"Earliest selectable date",required:!1,type:{name:"Date"}},{name:"max",description:"Latest selectable date",required:!1,type:{name:"Date"}},{name:"showAdjacentMonths",description:"Select if adjacent (before and after) month should be shown in the selection of the day. Defaults to false",required:!1,type:{name:"boolean"}},{name:"variant",description:"Select the selection type for the user - single, multiple or range. Defaults to single",required:!1,type:{name:"CalendarTypes"}},{name:"disabled",description:"Disable the selection of dates by the user. Defaults to false",required:!1,type:{name:"boolean"}},{name:"disableViewChange",description:"Disables the change of the calendar view. Only show month view. Defaults to false",required:!1,type:{name:"boolean"}},{name:"noAnimation",description:"Disables the animation",required:!1,type:{name:"boolean"}},{name:"allowedDates",description:"Function to determine if a date should be disabled or not",required:!1,type:{name:"AllowedDateFunction"}}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendar.vue"]};export{qe as M};
