import{d as _,b as p,e as u,t as A,o as O,n as N,j as S,K as H,p as i,f,F as M,l as k,m as y,x as G,q as I,y as J,L as Q,M as B,N as L,v as C,T,s as q}from"./vue.esm-bundler-rN7zufTY.js";import{M as E}from"./MucButton-HLjavNH4.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R="de-DE",x=12,z=Symbol("mucCalendar"),g=(n,t)=>n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear(),$=(n,t)=>n>t,b=n=>n!==null&&n.from!==void 0&&n.to!==void 0,V=_({__name:"MucDayTile",props:{date:{},showAdjacentMonths:{type:Boolean,default:!1}},emits:["click"],setup(n,{emit:t}){const e=H(z),c=t,a=p(()=>{if((e==null?void 0:e.selectedDate.value)===null)return!1;if((e==null?void 0:e.selectedDate.value)instanceof Date)return g(e==null?void 0:e.selectedDate.value,n.date);if(Array.isArray(e==null?void 0:e.selectedDate.value))return e==null?void 0:e.selectedDate.value.some(s=>g(s,n.date));if(b(e.selectedDate.value)){const{from:s,to:r}=e.selectedDate.value;return s&&g(s,n.date)||r&&g(r,n.date)}}),h=p(()=>(e==null?void 0:e.variant.value)==="range"&&b(e.selectedDate.value)?(e==null?void 0:e.selectedDate.value.from)!==null&&(e==null?void 0:e.selectedDate.value.to)!==null&&$(n.date,e.selectedDate.value.from)&&$(e.selectedDate.value.to,n.date):!1),d=p(()=>n.date.getMonth()===(e==null?void 0:e.viewDate.value.getMonth())),o=()=>{e!=null&&e.allowedDates(n.date)&&c("click",n.date)};return(s,r)=>{var v;return d.value||s.showAdjacentMonths?(i(),u("div",{key:0,onClick:o,class:O({"disabled-tile":!((v=N(e))!=null&&v.allowedDates(s.date)),"off-month":!d.value,selected:a.value,"selected-range":h.value})},A(s.date.getDate()),3)):S("",!0)}}}),X=F(V,[["__scopeId","data-v-a7631835"]]);V.__docgenInfo={exportName:"default",displayName:"MucDayTile",description:"",tags:{},props:[{name:"date",description:"Date of for this tile to be displayed",required:!0,type:{name:"Date"}},{name:"showAdjacentMonths",description:"Determines if this date should be shown or not, depending on the month - defaults to false",required:!1,type:{name:"boolean"}}],events:[{name:"click",type:{names:["Date"]},description:"Event emited after selecting a day"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucDayTile.vue"]};const Z={class:"muc-calendar-view-full-size"},ee={class:"muc-calendar-container table-header"},ae={class:"muc-calendar-container"},te=7,K=_({__name:"MucCalendarDay",props:{viewDate:{},variant:{},disabled:{type:Boolean},showAdjacentMonths:{type:Boolean}},emits:["clicked"],setup(n,{emit:t}){const e=6*te,c=["Mo","Di","Mi","Do","Fr","Sa","So"],a=n,h=t,d=p(()=>new Date(a.viewDate.getFullYear(),a.viewDate.getMonth(),1)),o=p(()=>a.showAdjacentMonths?0:(d.value.getDay()||7)-1),s=p(()=>v(d.value,-d.value.getDay()||-7)),r=m=>{h("clicked",m)},v=(m,w)=>new Date(new Date(m).setDate(m.getDate()+w));return(m,w)=>(i(),u("div",Z,[f("div",ee,[(i(),u(M,null,k(c,(D,j)=>f("div",{class:"header-item",key:j},[f("strong",null,A(D),1)])),64))]),f("div",ae,[(i(!0),u(M,null,k(o.value,D=>(i(),u("div",{key:D}))),128)),(i(),u(M,null,k(e,D=>y(X,{class:"muc-calendar-item",date:v(s.value,D),"show-adjacent-months":m.showAdjacentMonths,onClick:r,key:D},null,8,["date","show-adjacent-months"])),64))])]))}}),ne=F(K,[["__scopeId","data-v-e7805970"]]);K.__docgenInfo={exportName:"default",displayName:"MucCalendarDay",description:"",tags:{},props:[{name:"viewDate",description:"Current year and month in the view",required:!0,type:{name:"Date"}},{name:"variant",description:"Type of possible day selection - single, multiple or range",required:!0,type:{name:"CalendarTypes"}},{name:"disabled",description:"Determines if selection of day should be disabled",required:!0,type:{name:"boolean"}},{name:"showAdjacentMonths",description:"Determines if days of adjacent months (before and after) should be shown or not",required:!0,type:{name:"boolean"}}],events:[{name:"clicked",type:{names:["Date"]},description:"Event emitted after selecting a day"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendarDay.vue"]};const le={class:"muc-calendar-container muc-calendar-view-full-size"},se=["onClick"],oe="short",P=_({__name:"MucCalendarMonth",props:{viewDate:{}},emits:["clicked"],setup(n,{emit:t}){const e=n,c=t,a=p(()=>Array.from({length:x},(o,s)=>new Date(e.viewDate.getFullYear(),s))),h=o=>o.toLocaleDateString(R,{month:oe}),d=o=>c("clicked",o);return(o,s)=>(i(),u("div",le,[(i(!0),u(M,null,k(a.value,(r,v)=>(i(),u("div",{key:v,class:O([{"muc-calendar-current-item":new Date().getMonth()===r.getMonth()&&new Date().getFullYear()===r.getFullYear()},"muc-calendar-item"]),onClick:m=>d(r)},[f("p",null,A(h(r)),1)],10,se))),128))]))}}),re=F(P,[["__scopeId","data-v-61bf5bda"]]);P.__docgenInfo={exportName:"default",displayName:"MucCalendarMonth",description:"",tags:{},props:[{name:"viewDate",description:"current viewDate for the selection",required:!0,type:{name:"Date"}}],events:[{name:"clicked",type:{names:["Date"]},description:"Event emitted after selecting a month"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendarMonth.vue"]};const ie={class:"muc-calendar-container muc-calendar-view-full-size"},ce=["onClick"],ue="numeric",U=_({__name:"MucCalendarYear",props:{viewDate:{}},emits:["clicked"],setup(n,{emit:t}){const e=n,c=t,a=p(()=>Array.from({length:x},(o,s)=>new Date(e.viewDate.getFullYear()-e.viewDate.getFullYear()%10+s,e.viewDate.getMonth()))),h=o=>o.toLocaleDateString(R,{year:ue}),d=o=>c("clicked",o);return(o,s)=>(i(),u("div",ie,[(i(!0),u(M,null,k(a.value,(r,v)=>(i(),u("div",{key:v,class:O(["muc-calendar-item",{"muc-calendar-current-item":new Date().getFullYear()===r.getFullYear()}]),onClick:m=>d(r)},A(h(r)),11,ce))),128))]))}}),de=F(U,[["__scopeId","data-v-67492bc8"]]);U.__docgenInfo={exportName:"default",displayName:"MucCalendarYear",description:"",tags:{},props:[{name:"viewDate",description:"current viewDate for the selection",required:!0,type:{name:"Date"}}],events:[{name:"clicked",type:{names:["Date"]},description:"Event emitted after selecting a year"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendarYear.vue"]};const ve={class:"container-wrapper"},me={class:"caption"},he={class:"container-view-size"},W=_({__name:"MucCalendar",props:G({viewMonth:{},showAdjacentMonths:{type:Boolean,default:!1},variant:{default:"single"},disabled:{type:Boolean,default:!1},noAnimation:{type:Boolean,default:!1},allowedDates:{type:Function,default:()=>!0}},{modelValue:{default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const t=I(n.viewMonth||new Date(new Date().getFullYear(),new Date().getMonth(),1)),e=I("day"),c=I(),a=J(n,"modelValue"),h=p(()=>{switch(e.value){case"day":return t.value.toLocaleDateString("de-De",{month:"long",year:"numeric"});case"month":return t.value.toLocaleDateString("de-De",{year:"numeric"});case"year":{const l=t.value.getFullYear()-t.value.getFullYear()%10;return`${l} - ${l+11}`}default:return""}}),d=()=>{switch(e.value){case"day":t.value=new Date(t.value.setMonth(t.value.getMonth()-1));break;case"month":t.value=new Date(t.value.setFullYear(t.value.getFullYear()-1));break;case"year":t.value=new Date(t.value.setFullYear(t.value.getFullYear()-12))}},o=()=>{switch(e.value){case"day":t.value=new Date(t.value.setMonth(t.value.getMonth()+1));break;case"month":t.value=new Date(t.value.setFullYear(t.value.getFullYear()+1));break;case"year":t.value=new Date(t.value.setFullYear(t.value.getFullYear()+12))}},s=l=>{console.log(b(a.value)),(Array.isArray(a.value)||b(a.value))&&(a.value=Object.values(a.value)[0]),a.value=a.value===null||!g(a.value,l)?l:null},r=l=>{a.value===null?a.value=[]:a.value instanceof Date?a.value=[a.value]:b(a.value)&&(a.value=[a.value.from,a.value.to].filter(Y=>Y!==null)),a.value=a.value.includes(l)?a.value.filter(Y=>Y!==l):[...a.value,l]},v=l=>{a.value===null||Array.isArray(a.value)?a.value={from:null,to:null}:a.value instanceof Date&&(a.value={from:a.value,to:null}),a.value=!a.value.from||a.value.to?{from:l,to:null}:$(a.value.from,l)?{from:l,to:a.value.from}:{from:a.value.from,to:l}},m=l=>{if(!n.disabled)switch(n.variant){case"single":s(l);break;case"multiple":r(l);break;case"range":v(l);break}},w=l=>{c.value="view-detail",t.value=new Date(l.getFullYear(),l.getMonth()),j()},D=()=>{c.value="view-broad",e.value==="day"?e.value="month":e.value==="month"&&(e.value="year")},j=()=>{e.value==="year"?e.value="month":e.value==="month"&&(e.value="day")};return Q(z,{viewDate:t,selectedDate:a,variant:B(L(()=>n.variant)),showAdjacentMonths:B(L(()=>n.showAdjacentMonths)),allowedDates:n.allowedDates}),(l,Y)=>(i(),u("div",null,[f("div",ve,[f("div",me,[y(N(E),{onClick:d,variant:"ghost",icon:"chevron-left"}),y(N(E),{class:"header",variant:"ghost",onClick:D},{default:C(()=>[f("h3",null,A(h.value),1)]),_:1}),y(N(E),{onClick:o,variant:"ghost",icon:"chevron-right"})]),f("div",he,[y(T,{class:"transition",css:!l.noAnimation,name:c.value},{default:C(()=>[e.value==="year"?(i(),q(de,{key:0,"view-date":t.value,onClicked:w},null,8,["view-date"])):S("",!0)]),_:1},8,["css","name"]),y(T,{class:"transition",css:!l.noAnimation,name:c.value},{default:C(()=>[e.value==="month"?(i(),q(re,{key:0,"view-date":t.value,onClicked:w},null,8,["view-date"])):S("",!0)]),_:1},8,["css","name"]),y(T,{class:"transition",css:!l.noAnimation,name:c.value},{default:C(()=>[e.value==="day"?(i(),q(ne,{key:0,variant:l.variant,disabled:l.disabled,"show-adjacent-months":l.showAdjacentMonths,"selected-date":a.value,"view-date":t.value,onClicked:m},null,8,["variant","disabled","show-adjacent-months","selected-date","view-date"])):S("",!0)]),_:1},8,["css","name"])])])]))}}),ye=F(W,[["__scopeId","data-v-9744d6fd"]]);W.__docgenInfo={exportName:"default",displayName:"MucCalendar",description:"",tags:{},props:[{name:"viewMonth",description:"Initial date to be displayed on the selection screen",required:!1,type:{name:"Date"}},{name:"showAdjacentMonths",description:"Select if adjacent (before and after) month should be shown in the selection of the day. Defaults to false",required:!1,type:{name:"boolean"}},{name:"variant",description:"Select the selection type for the user - single, multiple or range. Defaults to single",required:!1,type:{name:"CalendarTypes"}},{name:"disabled",description:"Disable the selection of dates by the user. Defaults to false",required:!1,type:{name:"boolean"}},{name:"noAnimation",description:"Disables the animation",required:!1,type:{name:"boolean"}},{name:"allowedDates",description:"Function to determine if a date should be disabled or not",required:!1,type:{name:"AllowedDateFunction"}}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendar.vue"]};export{ye as M};
