import{d as M,L as B,b as v,e as m,l as C,o as i,t as Y,n as _,S as V,f,F as k,p as A,g as w,u as x,s as b,x as oe,q as O,y as ie,M as ue,N as R,O as z,v as S,T as $}from"./vue.esm-bundler-CDd4cxOR.js";import{M as j}from"./MucButton-CllWkO84.js";import{_ as p}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E="de-DE",U=12,q=Symbol("mucCalendar"),F=(t,u)=>t.getDate()===u.getDate()&&t.getMonth()===u.getMonth()&&t.getFullYear()===u.getFullYear(),L=(t,u)=>t>u,N=t=>t!==null&&t.from!==void 0&&t.to!==void 0,ce=["tabindex","aria-label"],W=M({__name:"MucDayTile",props:{date:{},showAdjacentMonths:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:u}){const e=B(q),c=u,n=v(()=>{if((e==null?void 0:e.selectedDate.value)===null)return!1;if((e==null?void 0:e.selectedDate.value)instanceof Date)return F(e==null?void 0:e.selectedDate.value,t.date);if(Array.isArray(e==null?void 0:e.selectedDate.value))return e==null?void 0:e.selectedDate.value.some(o=>F(o,t.date));if(N(e.selectedDate.value)){const{from:o,to:h}=e.selectedDate.value;return o&&F(o,t.date)||h&&F(h,t.date)}}),l=v(()=>(e==null?void 0:e.variant.value)==="range"&&N(e.selectedDate.value)?(e==null?void 0:e.selectedDate.value.from)!==null&&(e==null?void 0:e.selectedDate.value.to)!==null&&L(t.date,e.selectedDate.value.from)&&L(e.selectedDate.value.to,t.date):!1),s=v(()=>{const o=e!=null&&e.allowedDates(t.date)?e.allowedDates(t.date):!1,h=(e==null?void 0:e.minDate.value)!==void 0&&(t.date.getFullYear()<e.minDate.value.getFullYear()||t.date.getFullYear()===e.minDate.value.getFullYear()&&t.date.getMonth()<e.minDate.value.getMonth()||t.date.getFullYear()===e.minDate.value.getFullYear()&&t.date.getMonth()===e.minDate.value.getMonth()&&t.date.getDate()<e.minDate.value.getDate()),g=(e==null?void 0:e.maxDate.value)!==void 0&&(t.date.getFullYear()>e.maxDate.value.getFullYear()||t.date.getFullYear()===e.maxDate.value.getFullYear()&&t.date.getMonth()>e.maxDate.value.getMonth()||t.date.getFullYear()===e.maxDate.value.getFullYear()&&t.date.getMonth()===e.maxDate.value.getMonth()&&t.date.getDate()>e.maxDate.value.getDate());return!o||h||g}),a=v(()=>t.date.getMonth()===(e==null?void 0:e.viewDate.value.getMonth())),d=()=>{s.value||c("click",t.date)};return(o,h)=>a.value||o.showAdjacentMonths?(i(),m("div",{key:0,onClick:d,onKeyup:V(d,["enter"]),class:_({"disabled-tile":s.value,"off-month":!a.value,selected:n.value,"selected-range":l.value}),tabindex:s.value?"-1":"0",role:"button","aria-label":`${o.date.getDate()} auswählen`},Y(o.date.getDate()),43,ce)):C("",!0)}}),de=p(W,[["__scopeId","data-v-9ac1842d"]]);W.__docgenInfo={exportName:"default",displayName:"MucDayTile",description:"",tags:{},props:[{name:"date",description:"Date of for this tile to be displayed",required:!0,type:{name:"Date"}},{name:"showAdjacentMonths",description:"Determines if this date should be shown or not, depending on the month - defaults to false",required:!1,type:{name:"boolean"}}],events:[{name:"click",type:{names:["Date"]},description:"Event emited after selecting a day"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucDayTile.vue"]};const ve={class:"muc-calendar-view-full-size"},me={class:"muc-calendar-container table-header"},he={class:"muc-calendar-container"},fe=7,H=M({__name:"MucCalendarDay",props:{viewDate:{},variant:{},disabled:{type:Boolean},showAdjacentMonths:{type:Boolean}},emits:["clicked"],setup(t,{emit:u}){const e=6*fe,c=["Mo","Di","Mi","Do","Fr","Sa","So"],n=t,l=u,s=v(()=>new Date(n.viewDate.getFullYear(),n.viewDate.getMonth(),1)),a=v(()=>n.showAdjacentMonths?0:(s.value.getDay()||7)-1),d=v(()=>h(s.value,-s.value.getDay()||-7)),o=g=>{l("clicked",g)},h=(g,T)=>new Date(new Date(g).setDate(g.getDate()+T));return(g,T)=>(i(),m("div",ve,[f("div",me,[(i(),m(k,null,A(c,(D,I)=>f("div",{class:"header-item",key:I},[f("strong",null,Y(D),1)])),64))]),f("div",he,[(i(!0),m(k,null,A(a.value,D=>(i(),m("div",{key:D}))),128)),(i(),m(k,null,A(e,D=>w(de,{class:"muc-calendar-item",date:h(d.value,D),"show-adjacent-months":g.showAdjacentMonths,onClick:o,key:D},null,8,["date","show-adjacent-months"])),64))])]))}}),ge=p(H,[["__scopeId","data-v-e7805970"]]);H.__docgenInfo={exportName:"default",displayName:"MucCalendarDay",description:"",tags:{},props:[{name:"viewDate",description:"Current year and month in the view",required:!0,type:{name:"Date"}},{name:"variant",description:"Type of possible day selection - single, multiple or range",required:!0,type:{name:"CalendarTypes"}},{name:"disabled",description:"Determines if selection of day should be disabled",required:!0,type:{name:"boolean"}},{name:"showAdjacentMonths",description:"Determines if days of adjacent months (before and after) should be shown or not",required:!0,type:{name:"boolean"}}],events:[{name:"clicked",type:{names:["Date"]},description:"Event emitted after selecting a day"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendarDay.vue"]};const De=["tabindex","aria-label"],ye="short",G=M({__name:"MucMonthTile",props:{date:{}},emits:["click"],setup(t,{emit:u}){const e=B(q),c=u,n=a=>a.toLocaleDateString(E,{month:ye}),l=v(()=>{const a=t.date.getFullYear(),d=t.date.getMonth(),o=(e==null?void 0:e.minDate.value)&&(a<e.minDate.value.getFullYear()||a===e.minDate.value.getFullYear()&&d<e.minDate.value.getMonth()),h=(e==null?void 0:e.maxDate.value)&&(a>e.maxDate.value.getFullYear()||a===e.maxDate.value.getFullYear()&&d>e.maxDate.value.getMonth());return o||h}),s=()=>{l.value||c("click",t.date)};return(a,d)=>(i(),m("div",{onClick:s,onKeyup:V(s,["enter"]),class:_({"disabled-tile":l.value,"muc-calendar-current-item":new Date().getMonth()===a.date.getMonth()&&new Date().getFullYear()===a.date.getFullYear()}),tabindex:l.value?"-1":"0",role:"button","aria-label":`${a.date.toLocaleDateString(x(E),{month:"long"})} auswählen`},[f("p",null,Y(n(a.date)),1)],42,De))}}),Me=p(G,[["__scopeId","data-v-30d96702"]]);G.__docgenInfo={exportName:"default",displayName:"MucMonthTile",description:"",tags:{},props:[{name:"date",description:"Date of for this tile to be displayed",required:!0,type:{name:"Date"}}],events:[{name:"click",type:{names:["Date"]},description:"Event emited after selecting a month"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucMonthTile.vue"]};const pe={class:"muc-calendar-container muc-calendar-view-full-size"},Q=M({__name:"MucCalendarMonth",props:{viewDate:{}},emits:["clicked"],setup(t,{emit:u}){const e=t,c=u,n=v(()=>Array.from({length:U},(s,a)=>new Date(e.viewDate.getFullYear(),a))),l=s=>c("clicked",s);return(s,a)=>(i(),m("div",pe,[(i(!0),m(k,null,A(n.value,(d,o)=>(i(),b(Me,{key:o,class:"muc-calendar-item",date:d,onClick:l},null,8,["date"]))),128))]))}}),we=p(Q,[["__scopeId","data-v-4dc141ae"]]);Q.__docgenInfo={exportName:"default",displayName:"MucCalendarMonth",description:"",tags:{},props:[{name:"viewDate",description:"current viewDate for the selection",required:!0,type:{name:"Date"}}],events:[{name:"clicked",type:{names:["Date"]},description:"Event emitted after selecting a month"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendarMonth.vue"]};const be=["tabindex","aria-label"],J="numeric",X=M({__name:"MucYearTile",props:{date:{}},emits:["click"],setup(t,{emit:u}){const e=B(q),c=u,n=a=>a.toLocaleDateString(E,{year:J}),l=v(()=>{const a=t.date.getFullYear(),d=(e==null?void 0:e.minDate.value)&&a<e.minDate.value.getFullYear(),o=(e==null?void 0:e.maxDate.value)&&a>e.maxDate.value.getFullYear();return d||o}),s=()=>{l.value||c("click",t.date)};return(a,d)=>(i(),m("div",{onClick:s,onKeyup:V(s,["enter"]),class:_({"disabled-tile":l.value,"muc-calendar-current-item":new Date().getFullYear()===a.date.getFullYear()}),tabindex:l.value?"-1":"0",role:"button","aria-label":`${a.date.toLocaleDateString(x(E),{year:J})} auswählen`},[f("p",null,Y(n(a.date)),1)],42,be))}}),Ye=p(X,[["__scopeId","data-v-ed281bd7"]]);X.__docgenInfo={exportName:"default",displayName:"MucYearTile",description:"",tags:{},props:[{name:"date",description:"Date of for this tile to be displayed",required:!0,type:{name:"Date"}}],events:[{name:"click",type:{names:["Date"]},description:"Event emited after selecting a year"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucYearTile.vue"]};const Fe={class:"muc-calendar-container muc-calendar-view-full-size"},Z=M({__name:"MucCalendarYear",props:{viewDate:{}},emits:["clicked"],setup(t,{emit:u}){const e=t,c=u,n=v(()=>Array.from({length:U},(s,a)=>new Date(e.viewDate.getFullYear()-e.viewDate.getFullYear()%10+a,e.viewDate.getMonth()))),l=s=>c("clicked",s);return(s,a)=>(i(),m("div",Fe,[(i(!0),m(k,null,A(n.value,(d,o)=>(i(),b(Ye,{key:o,class:"muc-calendar-item",date:d,onClick:h=>l(d)},null,8,["date","onClick"]))),128))]))}}),ke=p(Z,[["__scopeId","data-v-2d92e62c"]]);Z.__docgenInfo={exportName:"default",displayName:"MucCalendarYear",description:"",tags:{},props:[{name:"viewDate",description:"current viewDate for the selection",required:!0,type:{name:"Date"}}],events:[{name:"clicked",type:{names:["Date"]},description:"Event emitted after selecting a year"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendarYear.vue"]};const Ae={class:"container-wrapper"},xe={class:"calendar-caption"},Ne={key:1,class:"header"},Te={class:"container-view-size"},P=10,ee=M({__name:"MucCalendar",props:oe({viewMonth:{},min:{},max:{},showAdjacentMonths:{type:Boolean,default:!1},variant:{default:"single"},disabled:{type:Boolean,default:!1},disableViewChange:{type:Boolean,default:!1},noAnimation:{type:Boolean,default:!1},allowedDates:{type:Function,default:()=>!0}},{modelValue:{default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const u=v(()=>{if(t.viewMonth)return t.viewMonth instanceof Date?t.viewMonth:new Date(t.viewMonth)}),e=v(()=>{if(t.min)return t.min instanceof Date?t.min:new Date(t.min)}),c=v(()=>{if(t.max)return t.max instanceof Date?t.max:new Date(t.max)}),n=O(u.value||new Date(new Date().getFullYear(),new Date().getMonth(),1)),l=O("day"),s=O(),a=ie(t,"modelValue"),d=v(()=>{switch(l.value){case"day":return n.value.toLocaleDateString("de-De",{month:"long",year:"numeric"});case"month":return n.value.toLocaleDateString("de-De",{year:"numeric"});case"year":{const r=n.value.getFullYear()-n.value.getFullYear()%10;return`${r} - ${r+11}`}default:return""}}),o=()=>{switch(l.value){case"day":n.value=new Date(n.value.setMonth(n.value.getMonth()-1));break;case"month":n.value=new Date(n.value.setFullYear(n.value.getFullYear()-1));break;case"year":n.value=new Date(n.value.setFullYear(n.value.getFullYear()-12))}},h=()=>{switch(l.value){case"day":n.value=new Date(n.value.setMonth(n.value.getMonth()+1));break;case"month":n.value=new Date(n.value.setFullYear(n.value.getFullYear()+1));break;case"year":n.value=new Date(n.value.setFullYear(n.value.getFullYear()+12))}},g=v(()=>{switch(l.value){case"day":return"Vorheriger Monat";case"month":return"Vorheriges Jahr";case"year":return"Vorherige Jahre";default:return""}}),T=v(()=>{switch(l.value){case"day":return"Nächster Monat";case"month":return"Nächstes Jahr";case"year":return"Weitere Jahre";default:return""}}),D=v(()=>{if(e.value)switch(l.value){case"day":return n.value.getFullYear()<e.value.getFullYear()||n.value.getFullYear()===e.value.getFullYear()&&n.value.getMonth()<=e.value.getMonth();case"month":return n.value.getFullYear()<=e.value.getFullYear();case"year":return n.value.getFullYear()-n.value.getFullYear()%P<=e.value.getFullYear();default:return!1}return!1}),I=v(()=>{if(c.value)switch(l.value){case"day":return n.value.getFullYear()>c.value.getFullYear()||n.value.getFullYear()===c.value.getFullYear()&&n.value.getMonth()>=c.value.getMonth();case"month":return n.value.getFullYear()>=c.value.getFullYear();case"year":return n.value.getFullYear()-n.value.getFullYear()%P+10>=c.value.getFullYear();default:return!1}return!1}),ae=r=>{console.log(N(a.value)),(Array.isArray(a.value)||N(a.value))&&(a.value=Object.values(a.value)[0]),a.value=a.value===null||!F(a.value,r)?r:null},te=r=>{a.value===null?a.value=[]:a.value instanceof Date?a.value=[a.value]:N(a.value)&&(a.value=[a.value.from,a.value.to].filter(y=>y!==null)),a.value=a.value.some(y=>y.getTime()===r.getTime())?a.value.filter(y=>y.getTime()!==r.getTime()):[...a.value,r]},ne=r=>{a.value===null||Array.isArray(a.value)?a.value={from:null,to:null}:a.value instanceof Date&&(a.value={from:a.value,to:null}),a.value=!a.value.from||a.value.to?{from:r,to:null}:L(a.value.from,r)?{from:r,to:a.value.from}:{from:a.value.from,to:r}},le=r=>{if(!t.disabled)switch(t.variant){case"single":ae(r);break;case"multiple":te(r);break;case"range":ne(r);break}},K=r=>{s.value="view-detail",n.value=new Date(r.getFullYear(),r.getMonth()),se()},re=()=>{s.value="view-broad",l.value==="day"?l.value="month":l.value==="month"&&(l.value="year")},se=()=>{l.value==="year"?l.value="month":l.value==="month"&&(l.value="day")};return ue(q,{viewDate:n,minDate:e,maxDate:c,selectedDate:a,variant:R(z(()=>t.variant)),showAdjacentMonths:R(z(()=>t.showAdjacentMonths)),allowedDates:t.allowedDates}),(r,y)=>(i(),m("div",null,[f("div",Ae,[f("div",xe,[w(x(j),{onClick:o,"aria-label":g.value,disabled:D.value,variant:"ghost",icon:"chevron-left"},null,8,["aria-label","disabled"]),r.disableViewChange?(i(),m("div",Ne,[f("h3",null,Y(d.value),1)])):(i(),b(x(j),{key:0,class:"header",variant:"ghost",onClick:y[0]||(y[0]=Se=>re())},{default:S(()=>[f("h3",null,Y(d.value),1)]),_:1})),w(x(j),{onClick:h,"aria-label":T.value,disabled:I.value,variant:"ghost",icon:"chevron-right"},null,8,["aria-label","disabled"])]),f("div",Te,[w($,{class:"transition",css:!r.noAnimation,name:s.value},{default:S(()=>[l.value==="year"?(i(),b(ke,{key:0,"view-date":n.value,onClicked:K},null,8,["view-date"])):C("",!0)]),_:1},8,["css","name"]),w($,{class:"transition",css:!r.noAnimation,name:s.value},{default:S(()=>[l.value==="month"?(i(),b(we,{key:0,"view-date":n.value,onClicked:K},null,8,["view-date"])):C("",!0)]),_:1},8,["css","name"]),w($,{class:"transition",css:!r.noAnimation,name:s.value},{default:S(()=>[l.value==="day"?(i(),b(ge,{key:0,variant:r.variant,disabled:r.disabled,"show-adjacent-months":r.showAdjacentMonths,"selected-date":a.value,"view-date":n.value,onClicked:le},null,8,["variant","disabled","show-adjacent-months","selected-date","view-date"])):C("",!0)]),_:1},8,["css","name"])])])]))}}),Ie=p(ee,[["__scopeId","data-v-5cd7611e"]]);ee.__docgenInfo={exportName:"default",displayName:"MucCalendar",description:"",tags:{},props:[{name:"viewMonth",description:"Initial date to be displayed on the selection screen",required:!1,type:{name:"Date"}},{name:"min",description:"Earliest selectable date",required:!1,type:{name:"Date"}},{name:"max",description:"Latest selectable date",required:!1,type:{name:"Date"}},{name:"showAdjacentMonths",description:"Select if adjacent (before and after) month should be shown in the selection of the day. Defaults to false",required:!1,type:{name:"boolean"}},{name:"variant",description:"Select the selection type for the user - single, multiple or range. Defaults to single",required:!1,type:{name:"CalendarTypes"}},{name:"disabled",description:"Disable the selection of dates by the user. Defaults to false",required:!1,type:{name:"boolean"}},{name:"disableViewChange",description:"Disables the change of the calendar view. Only show month view. Defaults to false",required:!1,type:{name:"boolean"}},{name:"noAnimation",description:"Disables the animation",required:!1,type:{name:"boolean"}},{name:"allowedDates",description:"Function to determine if a date should be disabled or not",required:!1,type:{name:"AllowedDateFunction"}}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendar.vue"]};export{Ie as M};
