import{I as D,O as P,d as M,b as v,e as r,t as y,p as m,x as U,P as $,y as R,q as d,w as z,j as b,f as o,A as G,E as H,o as h,F as J,l as K,m as Q}from"./vue.esm-bundler-CBUwWiwT.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";function X(i,n){if(!i)return;const t=a=>{a.target!==i.value&&a.composedPath().includes(i.value)||typeof n=="function"&&n()};return D(()=>{window.addEventListener("click",t)}),P(()=>{window.removeEventListener("click",t)}),{listener:t}}const I=M({__name:"MucSelectItem",props:{item:{},itemLabel:{}},setup(i){const n=v(()=>typeof i.item=="string"?i.item:i.item[i.itemLabel].toString());return(t,a)=>(m(),r("span",null,y(n.value),1))}});I.__docgenInfo={exportName:"default",displayName:"MucSelectItem",description:"",tags:{},props:[{name:"item",description:"Individual item to display inside the MucSelect component",required:!0,type:{name:"MucSelectItemTypes"}},{name:"itemLabel",description:"A key of the `item` object, only required",required:!1,type:{name:"string"}}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Form/MucSelectItem.vue"]};const Y=["for"],Z=["id"],V=["id","aria-describedby"],_=["onMouseenter","onClick"],ee={key:0,class:"option"},T=M({__name:"MucSelect",props:U({id:{},items:{},label:{},hint:{},multiple:{type:Boolean,default:!1},noItemFoundMessage:{default:"No items found."},itemTitle:{default:"title"}},{modelValue:{default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const n=$("selectComponent"),t=R(i,"modelValue"),a=d(!1),g=d(),f=d(!1),c=d(),C=()=>{a.value=!a.value,c.value=g.value},k=()=>{a.value=!0,c.value=g.value,u.value=""};X(n,()=>{a.value=!1,u.value=p.value});const A=e=>{g.value=e,i.multiple?w(e):S(e),i.multiple||(a.value=!1)},S=e=>{Array.isArray(t.value)&&(t.value=t.value.join(" ")),typeof t.value!="string"&&typeof e!="string"?t.value=t.value[i.itemTitle]===e[i.itemTitle]?"":e:t.value=t.value===e?"":e},w=e=>{Array.isArray(t.value)||(t.value=[t.value]),Array.isArray(t.value)&&(typeof e=="string"?t.value=t.value.map(l=>l).includes(e)?t.value.filter(l=>l!==e):[...t.value,e]:t.value=t.value.map(l=>l[i.itemTitle]).includes(e[i.itemTitle])?t.value.filter(l=>l[i.itemTitle]!==e[i.itemTitle]):[...t.value,e])},p=v(()=>typeof t.value=="string"?t.value:Array.isArray(t.value)?t.value.every(e=>typeof e=="string")?t.value.join(i.multiple?", ":" "):t.value.map(e=>e[i.itemTitle].toString()).join(i.multiple?", ":" "):t.value[i.itemTitle].toString());z(p,e=>{u.value=e});const u=d(p.value),q=v(()=>u.value==p.value?i.items:L(u.value)),L=e=>{f.value=!1;const l=i.items.every(s=>typeof s=="string")?i.items.filter(s=>s.toLowerCase().includes(e.toLowerCase())):i.items.filter(s=>s[i.itemTitle].toString().toLowerCase().includes(e.toLowerCase()));return l.length===0&&(f.value=!0),l},F=e=>e===c.value?"active":"",N=e=>{if(typeof e=="string")return t.value.includes(e)?"selected":"";if(Array.isArray(t.value))return t.value.map(l=>l[i.itemTitle]).includes(e[i.itemTitle])?"selected":"";if(typeof t.value!="string")return t.value[i.itemTitle]===e[i.itemTitle]?"selected":""},O=()=>c.value="",j=v(()=>a.value?"display-listbox":""),x=v(()=>i.multiple&&!f.value?"m-input-wrapper--multiselect multiselect":"m-input-wrapper--select");return(e,l)=>(m(),r("div",{class:"m-form-group",ref_key:"selectComponent",ref:n},[e.label?(m(),r("label",{key:0,for:"select-"+e.id,class:"m-label"},y(e.label),9,Y)):b("",!0),e.hint?(m(),r("p",{key:1,class:"m-hint",id:"select-hint-"+e.id},y(e.hint),9,Z)):b("",!0),o("div",{class:h(["m-input-wrapper",x.value])},[G(o("input",{id:"select-"+e.id,type:"text",class:"m-input m-combobox m-combobox--single","aria-describedby":e.hint?"select-hint-"+e.id:void 0,"onUpdate:modelValue":l[0]||(l[0]=s=>u.value=s),onClick:k},null,8,V),[[H,u.value]]),o("span",{class:"m-input__trigger",onClick:C},l[1]||(l[1]=[o("svg",{"aria-hidden":"true",class:"icon"},[o("use",{"xlink:href":"#icon-chevron-down"})],-1),o("span",{class:"visually-hidden"},"Auswahlliste Ã¶ffnen",-1)])),o("ul",{class:h(["listbox",j.value]),onMouseleave:O},[(m(!0),r(J,null,K(q.value,(s,B)=>(m(),r("li",{key:B,class:h(["option",[F(s),N(s)]]),onMouseenter:E=>c.value=s,onClick:E=>A(s)},[Q(I,{item:s,"item-label":e.itemTitle},null,8,["item","item-label"])],42,_))),128)),f.value?(m(),r("li",ee,y(e.noItemFoundMessage),1)):b("",!0)],34)],2)],512))}}),le=W(T,[["__scopeId","data-v-5bab1c66"]]);T.__docgenInfo={exportName:"default",displayName:"MucSelect",description:"",tags:{},props:[{name:"id",description:"Unique identifier for the select. Required property used to associate the select with its label and hint text for accessibility.",required:!0,type:{name:"string"}},{name:"items",description:"List of items to be available",required:!0,type:{name:"Array",elements:[{name:"MucSelectItemTypes"}]}},{name:"label",description:"Optional label shown above the input",required:!1,type:{name:"string"}},{name:"hint",description:"Optional hint shown below the input",required:!1,type:{name:"string"}},{name:"multiple",description:"Allow multiple selectable items",required:!1,type:{name:"boolean"}},{name:"noItemFoundMessage",description:"Optional message shown no item is found after filtering",required:!1,type:{name:"string"}},{name:"itemTitle",description:"Property that contains the value to be displayed in the list when a list of objects is used",required:!1,type:{name:"string"}}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Form/MucSelect.vue"]};export{le as M};
