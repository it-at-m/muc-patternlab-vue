import{d as M,J as B,m as v,e as m,g as S,o as s,t as Y,n as V,Q as K,f as D,F as k,s as C,p as b,u as x,l as p,x as se,r as q,y as ue,K as oe,L as z,M as J,v as T,T as O}from"./iframe-B5-v3VRy.js";import{M as j}from"./MucButton-DPiNDO03.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E="de-DE",W=12,I=Symbol("mucCalendar"),F=(e,u)=>e.getDate()===u.getDate()&&e.getMonth()===u.getMonth()&&e.getFullYear()===u.getFullYear(),L=(e,u)=>e>u,A=e=>e!==null&&e.from!==void 0&&e.to!==void 0,ce=["tabindex","aria-label","aria-disabled"],H=M({__name:"MucDayTile",props:{date:{},showAdjacentMonths:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:u}){const a=B(I),o=u,l=v(()=>{if(a?.selectedDate.value===null)return!1;if(a?.selectedDate.value instanceof Date)return F(a?.selectedDate.value,e.date);if(Array.isArray(a?.selectedDate.value))return a?.selectedDate.value.some(d=>F(d,e.date));if(a?.selectedDate?.value&&A(a.selectedDate.value)){const{from:d,to:h}=a.selectedDate.value;return d&&F(d,e.date)||h&&F(h,e.date)}}),n=v(()=>a?.variant.value==="range"&&A(a.selectedDate.value)?a?.selectedDate.value.from!==null&&a?.selectedDate.value.to!==null&&L(e.date,a.selectedDate.value.from)&&L(a.selectedDate.value.to,e.date):!1),r=v(()=>{const d=a?.allowedDates(e.date)?a.allowedDates(e.date):!1,h=a?.minDate.value!==void 0&&(e.date.getFullYear()<a.minDate.value.getFullYear()||e.date.getFullYear()===a.minDate.value.getFullYear()&&e.date.getMonth()<a.minDate.value.getMonth()||e.date.getFullYear()===a.minDate.value.getFullYear()&&e.date.getMonth()===a.minDate.value.getMonth()&&e.date.getDate()<a.minDate.value.getDate()),f=a?.maxDate.value!==void 0&&(e.date.getFullYear()>a.maxDate.value.getFullYear()||e.date.getFullYear()===a.maxDate.value.getFullYear()&&e.date.getMonth()>a.maxDate.value.getMonth()||e.date.getFullYear()===a.maxDate.value.getFullYear()&&e.date.getMonth()===a.maxDate.value.getMonth()&&e.date.getDate()>a.maxDate.value.getDate());return!d||h||f}),t=v(()=>e.date.getMonth()===a?.viewDate.value.getMonth()),c=()=>{r.value||o("click",e.date)};return(d,h)=>t.value||e.showAdjacentMonths?(s(),m("div",{key:0,onClick:c,onKeyup:K(c,["enter"]),class:V({"disabled-tile":r.value,"off-month":!t.value,selected:l.value,"selected-range":n.value}),tabindex:r.value?"-1":"0",role:"button","aria-label":`${e.date.getDate()} auswählen`,"aria-disabled":r.value},Y(e.date.getDate()),43,ce)):S("",!0)}}),de=w(H,[["__scopeId","data-v-db120593"]]);H.__docgenInfo={exportName:"default",displayName:"MucDayTile",description:"",tags:{},props:[{name:"date",description:"Date of for this tile to be displayed",required:!0,type:{name:"Date"}},{name:"showAdjacentMonths",description:"Determines if this date should be shown or not, depending on the month - defaults to false",required:!1,type:{name:"boolean"}}],events:[{name:"click",type:{names:["Date"]},description:"Event emited after selecting a day"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucDayTile.vue"]};const ve={class:"muc-calendar-view-full-size"},me={class:"muc-calendar-container table-header"},he={class:"muc-calendar-container"},De=7,Q=M({__name:"MucCalendarDay",props:{viewDate:{},variant:{},disabled:{type:Boolean},showAdjacentMonths:{type:Boolean}},emits:["clicked"],setup(e,{emit:u}){const a=6*De,o=["Mo","Di","Mi","Do","Fr","Sa","So"],l=e,n=u,r=v(()=>new Date(l.viewDate.getFullYear(),l.viewDate.getMonth(),1)),t=v(()=>l.showAdjacentMonths?0:(r.value.getDay()||7)-1),c=v(()=>h(r.value,-r.value.getDay()||-7)),d=f=>{n("clicked",f)},h=(f,N)=>new Date(new Date(f).setDate(f.getDate()+N));return(f,N)=>(s(),m("div",ve,[D("div",me,[(s(),m(k,null,C(o,(g,$)=>D("div",{class:"header-item",key:$},[D("strong",null,Y(g),1)])),64))]),D("div",he,[(s(!0),m(k,null,C(t.value,g=>(s(),m("div",{key:g}))),128)),(s(),m(k,null,C(a,g=>b(de,{class:"muc-calendar-item",date:h(c.value,g),"show-adjacent-months":e.showAdjacentMonths,onClick:d,key:g},null,8,["date","show-adjacent-months"])),64))])]))}}),fe=w(Q,[["__scopeId","data-v-e7805970"]]);Q.__docgenInfo={exportName:"default",displayName:"MucCalendarDay",description:"",tags:{},props:[{name:"viewDate",description:"Current year and month in the view",required:!0,type:{name:"Date"}},{name:"variant",description:"Type of possible day selection - single, multiple or range",required:!0,type:{name:"CalendarTypes"}},{name:"disabled",description:"Determines if selection of day should be disabled",required:!0,type:{name:"boolean"}},{name:"showAdjacentMonths",description:"Determines if days of adjacent months (before and after) should be shown or not",required:!0,type:{name:"boolean"}}],events:[{name:"clicked",type:{names:["Date"]},description:"Event emitted after selecting a day"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendarDay.vue"]};const ge=["tabindex","aria-label","aria-disabled"],ye="short",G=M({__name:"MucMonthTile",props:{date:{}},emits:["click"],setup(e,{emit:u}){const a=B(I),o=u,l=t=>t.toLocaleDateString(E,{month:ye}),n=v(()=>{const t=e.date.getFullYear(),c=e.date.getMonth(),d=a?.minDate.value&&(t<a.minDate.value.getFullYear()||t===a.minDate.value.getFullYear()&&c<a.minDate.value.getMonth()),h=a?.maxDate.value&&(t>a.maxDate.value.getFullYear()||t===a.maxDate.value.getFullYear()&&c>a.maxDate.value.getMonth());return d||h}),r=()=>{n.value||o("click",e.date)};return(t,c)=>(s(),m("div",{onClick:r,onKeyup:K(r,["enter"]),class:V({"disabled-tile":n.value,"muc-calendar-current-item":new Date().getMonth()===e.date.getMonth()&&new Date().getFullYear()===e.date.getFullYear()}),tabindex:n.value?"-1":"0",role:"button","aria-label":`${e.date.toLocaleDateString(x(E),{month:"long"})} auswählen`,"aria-disabled":n.value},[D("p",null,Y(l(e.date)),1)],42,ge))}}),Me=w(G,[["__scopeId","data-v-528928e7"]]);G.__docgenInfo={exportName:"default",displayName:"MucMonthTile",description:"",tags:{},props:[{name:"date",description:"Date of for this tile to be displayed",required:!0,type:{name:"Date"}}],events:[{name:"click",type:{names:["Date"]},description:"Event emited after selecting a month"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucMonthTile.vue"]};const we={class:"muc-calendar-container muc-calendar-view-full-size"},X=M({__name:"MucCalendarMonth",props:{viewDate:{}},emits:["clicked"],setup(e,{emit:u}){const a=e,o=u,l=v(()=>Array.from({length:W},(r,t)=>new Date(a.viewDate.getFullYear(),t))),n=r=>o("clicked",r);return(r,t)=>(s(),m("div",we,[(s(!0),m(k,null,C(l.value,(c,d)=>(s(),p(Me,{key:d,class:"muc-calendar-item",date:c,onClick:n},null,8,["date"]))),128))]))}}),be=w(X,[["__scopeId","data-v-4dc141ae"]]);X.__docgenInfo={exportName:"default",displayName:"MucCalendarMonth",description:"",tags:{},props:[{name:"viewDate",description:"current viewDate for the selection",required:!0,type:{name:"Date"}}],events:[{name:"clicked",type:{names:["Date"]},description:"Event emitted after selecting a month"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendarMonth.vue"]};const pe=["tabindex","aria-label","aria-disabled"],P="numeric",Z=M({__name:"MucYearTile",props:{date:{}},emits:["click"],setup(e,{emit:u}){const a=B(I),o=u,l=t=>t.toLocaleDateString(E,{year:P}),n=v(()=>{const t=e.date.getFullYear(),c=a?.minDate.value&&t<a.minDate.value.getFullYear(),d=a?.maxDate.value&&t>a.maxDate.value.getFullYear();return c||d}),r=()=>{n.value||o("click",e.date)};return(t,c)=>(s(),m("div",{onClick:r,onKeyup:K(r,["enter"]),class:V({"disabled-tile":n.value,"muc-calendar-current-item":new Date().getFullYear()===e.date.getFullYear()}),tabindex:n.value?"-1":"0",role:"button","aria-label":`${e.date.toLocaleDateString(x(E),{year:P})} auswählen`,"aria-disabled":n.value},[D("p",null,Y(l(e.date)),1)],42,pe))}}),Ye=w(Z,[["__scopeId","data-v-0e82f1d5"]]);Z.__docgenInfo={exportName:"default",displayName:"MucYearTile",description:"",tags:{},props:[{name:"date",description:"Date of for this tile to be displayed",required:!0,type:{name:"Date"}}],events:[{name:"click",type:{names:["Date"]},description:"Event emited after selecting a year"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucYearTile.vue"]};const Fe={class:"muc-calendar-container muc-calendar-view-full-size"},_=M({__name:"MucCalendarYear",props:{viewDate:{}},emits:["clicked"],setup(e,{emit:u}){const a=e,o=u,l=v(()=>Array.from({length:W},(r,t)=>new Date(a.viewDate.getFullYear()-a.viewDate.getFullYear()%10+t,a.viewDate.getMonth()))),n=r=>o("clicked",r);return(r,t)=>(s(),m("div",Fe,[(s(!0),m(k,null,C(l.value,(c,d)=>(s(),p(Ye,{key:d,class:"muc-calendar-item",date:c,onClick:h=>n(c)},null,8,["date","onClick"]))),128))]))}}),ke=w(_,[["__scopeId","data-v-2d92e62c"]]);_.__docgenInfo={exportName:"default",displayName:"MucCalendarYear",description:"",tags:{},props:[{name:"viewDate",description:"current viewDate for the selection",required:!0,type:{name:"Date"}}],events:[{name:"clicked",type:{names:["Date"]},description:"Event emitted after selecting a year"}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendarYear.vue"]};const Ce={class:"container-wrapper"},xe={class:"calendar-caption"},Ae={key:1,class:"header"},Ne={class:"container-view-size"},U=10,ee=M({__name:"MucCalendar",props:se({viewMonth:{},min:{},max:{},showAdjacentMonths:{type:Boolean,default:!1},variant:{default:"single"},disabled:{type:Boolean,default:!1},disableViewChange:{type:Boolean,default:!1},noAnimation:{type:Boolean,default:!1},allowedDates:{type:Function,default:()=>!0}},{modelValue:{default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const u=v(()=>{if(e.viewMonth)return e.viewMonth instanceof Date?e.viewMonth:new Date(e.viewMonth)}),a=v(()=>{if(e.min)return e.min instanceof Date?e.min:new Date(e.min)}),o=v(()=>{if(e.max)return e.max instanceof Date?e.max:new Date(e.max)}),l=q(u.value||new Date(new Date().getFullYear(),new Date().getMonth(),1)),n=q("day"),r=q(),t=ue(e,"modelValue"),c=v(()=>{switch(n.value){case"day":return l.value.toLocaleDateString("de-De",{month:"long",year:"numeric"});case"month":return l.value.toLocaleDateString("de-De",{year:"numeric"});case"year":{const i=l.value.getFullYear()-l.value.getFullYear()%10;return`${i} - ${i+11}`}default:return""}}),d=()=>{switch(n.value){case"day":l.value=new Date(l.value.setMonth(l.value.getMonth()-1));break;case"month":l.value=new Date(l.value.setFullYear(l.value.getFullYear()-1));break;case"year":l.value=new Date(l.value.setFullYear(l.value.getFullYear()-12))}},h=()=>{switch(n.value){case"day":l.value=new Date(l.value.setMonth(l.value.getMonth()+1));break;case"month":l.value=new Date(l.value.setFullYear(l.value.getFullYear()+1));break;case"year":l.value=new Date(l.value.setFullYear(l.value.getFullYear()+12))}},f=v(()=>{switch(n.value){case"day":return"Vorheriger Monat";case"month":return"Vorheriges Jahr";case"year":return"Vorherige Jahre";default:return""}}),N=v(()=>{switch(n.value){case"day":return"Nächster Monat";case"month":return"Nächstes Jahr";case"year":return"Weitere Jahre";default:return""}}),g=v(()=>{if(a.value)switch(n.value){case"day":return l.value.getFullYear()<a.value.getFullYear()||l.value.getFullYear()===a.value.getFullYear()&&l.value.getMonth()<=a.value.getMonth();case"month":return l.value.getFullYear()<=a.value.getFullYear();case"year":return l.value.getFullYear()-l.value.getFullYear()%U<=a.value.getFullYear();default:return!1}return!1}),$=v(()=>{if(o.value)switch(n.value){case"day":return l.value.getFullYear()>o.value.getFullYear()||l.value.getFullYear()===o.value.getFullYear()&&l.value.getMonth()>=o.value.getMonth();case"month":return l.value.getFullYear()>=o.value.getFullYear();case"year":return l.value.getFullYear()-l.value.getFullYear()%U+10>=o.value.getFullYear();default:return!1}return!1}),ae=i=>{console.debug(A(t.value)),(Array.isArray(t.value)||A(t.value))&&(t.value=Object.values(t.value)[0]),t.value=t.value===null||!F(t.value,i)?i:null},te=i=>{t.value===null?t.value=[]:t.value instanceof Date?t.value=[t.value]:A(t.value)&&(t.value=[t.value.from,t.value.to].filter(y=>y!==null)),t.value=t.value.some(y=>y.getTime()===i.getTime())?t.value.filter(y=>y.getTime()!==i.getTime()):[...t.value,i]},le=i=>{t.value===null||Array.isArray(t.value)?t.value={from:null,to:null}:t.value instanceof Date&&(t.value={from:t.value,to:null}),t.value=!t.value.from||t.value.to?{from:i,to:null}:L(t.value.from,i)?{from:i,to:t.value.from}:{from:t.value.from,to:i}},ne=i=>{if(!e.disabled)switch(e.variant){case"single":ae(i);break;case"multiple":te(i);break;case"range":le(i);break}},R=i=>{r.value="view-detail",l.value=new Date(i.getFullYear(),i.getMonth()),ie()},re=()=>{r.value="view-broad",n.value==="day"?n.value="month":n.value==="month"&&(n.value="year")},ie=()=>{n.value==="year"?n.value="month":n.value==="month"&&(n.value="day")};return oe(I,{viewDate:l,minDate:a,maxDate:o,selectedDate:t,variant:z(J(()=>e.variant)),showAdjacentMonths:z(J(()=>e.showAdjacentMonths)),allowedDates:e.allowedDates}),(i,y)=>(s(),m("div",null,[D("div",Ce,[D("div",xe,[b(x(j),{onClick:d,"aria-label":f.value,disabled:g.value,variant:"ghost",icon:"chevron-left"},null,8,["aria-label","disabled"]),e.disableViewChange?(s(),m("div",Ae,[D("h3",null,Y(c.value),1)])):(s(),p(x(j),{key:0,class:"header",variant:"ghost",onClick:y[0]||(y[0]=Te=>re())},{default:T(()=>[D("h3",null,Y(c.value),1)]),_:1})),b(x(j),{onClick:h,"aria-label":N.value,disabled:$.value,variant:"ghost",icon:"chevron-right","icon-shown-left":""},null,8,["aria-label","disabled"])]),D("div",Ne,[b(O,{class:"transition",css:!e.noAnimation,name:r.value},{default:T(()=>[n.value==="year"?(s(),p(ke,{key:0,"view-date":l.value,onClicked:R},null,8,["view-date"])):S("",!0)]),_:1},8,["css","name"]),b(O,{class:"transition",css:!e.noAnimation,name:r.value},{default:T(()=>[n.value==="month"?(s(),p(be,{key:0,"view-date":l.value,onClicked:R},null,8,["view-date"])):S("",!0)]),_:1},8,["css","name"]),b(O,{class:"transition",css:!e.noAnimation,name:r.value},{default:T(()=>[n.value==="day"?(s(),p(fe,{key:0,variant:e.variant,disabled:e.disabled,"show-adjacent-months":e.showAdjacentMonths,"selected-date":t.value,"view-date":l.value,onClicked:ne},null,8,["variant","disabled","show-adjacent-months","selected-date","view-date"])):S("",!0)]),_:1},8,["css","name"])])])]))}}),$e=w(ee,[["__scopeId","data-v-761c6c2c"]]);ee.__docgenInfo={exportName:"default",displayName:"MucCalendar",description:"",tags:{},props:[{name:"viewMonth",description:"Initial date to be displayed on the selection screen",required:!1,type:{name:"Date"}},{name:"min",description:"Earliest selectable date",required:!1,type:{name:"Date"}},{name:"max",description:"Latest selectable date",required:!1,type:{name:"Date"}},{name:"showAdjacentMonths",description:"Select if adjacent (before and after) month should be shown in the selection of the day. Defaults to false",required:!1,type:{name:"boolean"}},{name:"variant",description:"Select the selection type for the user - single, multiple or range. Defaults to single",required:!1,type:{name:"CalendarTypes"}},{name:"disabled",description:"Disable the selection of dates by the user. Defaults to false",required:!1,type:{name:"boolean"}},{name:"disableViewChange",description:"Disables the change of the calendar view. Only show month view. Defaults to false",required:!1,type:{name:"boolean"}},{name:"noAnimation",description:"Disables the animation",required:!1,type:{name:"boolean"}},{name:"allowedDates",description:"Function to determine if a date should be disabled or not",required:!1,type:{name:"AllowedDateFunction"}}],sourceFiles:["/home/runner/work/muc-patternlab-vue/muc-patternlab-vue/src/components/Calendar/MucCalendar.vue"]};export{$e as M};
